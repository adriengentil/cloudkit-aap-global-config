---
aap_organizations:
  - name: global

controller_credentials:
  - name: global-super-admin
    credential_type: Red Hat Ansible Automation Platform
    organization: global
    description: Global AAP super-admin account
    inputs:
      host: "{{ aap_hostname }}"
      username: "{{ aap_username }}"
      password: "{{ aap_password }}"
      verify_ssl: false

controller_projects:
  - name: global-configuration
    description: Global configuration for this instance of Ansible Automation Platform
    organization: global
    scm_type: git
    scm_url: https://github.com/adriengentil/cloudkit-aap-global-config.git
    scm_branch: "main"
    scm_clean: true
    scm_update_on_launch: true
    scm_credential: ""
    update_project: true
    wait: true

controller_inventories:
  - name: global
    description: Global inventory
    organization: global

controller_inventory_sources:
  - name: "global-inventory-source"
    organization: global
    source: scm
    source_project: global-configuration
    source_path: "inventory/global.yml"
    inventory: "global-inventory"
    credential: ""
    overwrite: true
    overwrite_vars: true
    update_cache_timeout: 0

controller_templates:
  - name: global-configuration-template
    project: global-configuration
    job_type: run
    playbook: playbooks/global_config.yml
    inventory: global-inventory
    execution_environment: "Default execution environment"
    concurrent_jobs_enabled: false
    ask_variables_on_launch: false
    verbosity: 0
    credentials:
      - global-super-admin

controller_job_launch:
  name: global-configuration-template
  organization: global